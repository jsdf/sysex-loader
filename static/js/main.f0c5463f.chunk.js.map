{"version":3,"sources":["MidiDeviceSelector.js","useLocalStorage.js","useLocalForage.js","Table.js","byteArrayToHex.js","md5.js","Checkbox.js","App.js","downloadBlob.js","reportWebVitals.js","index.js"],"names":["MidiDeviceSelector","type","onChange","selectedPortID","sysex","React","useState","availablePorts","setAvailablePorts","initRef","useRef","current","accessType","useEffect","navigator","requestMIDIAccess","Boolean","then","access","Array","from","values","find","port","id","onstatechange","e","parseInt","currentTarget","value","findIndex","map","i","name","useLocalStorage","baseKey","initialValue","key","item","window","localStorage","getItem","JSON","parse","error","console","log","storedValue","setStoredValue","valueToStore","Function","setItem","stringify","queue","Promise","resolve","INITIAL_VALUE","Table","items","headings","layout","rowRenderer","className","heading","style","width","cell","k","LUT_HEX_4b","LUT_HEX_8b","n","toHex","buffer","out","idx","edx","length","md5cycle","x","a","b","c","d","ff","gg","hh","ii","add32","cmn","q","s","t","md5blk","md5blks","charCodeAt","hex_chr","split","rhex","j","md5","join","hex","state","substring","tail","md51","Checkbox","label","checked","useCallback","Modal","setAppElement","document","body","MidiPortReference","this","getTimestampString","ts","Date","getFullYear","getMonth","getDate","String","getHours","padStart","getMinutes","getSeconds","makeItem","message","timestamp","now","hash","byteArrayToHex","formatBytesForDisplay","str","lineLength","Math","ceil","line","slice","FileDropzone","onFile","onStatus","onDrop","acceptedFiles","forEach","file","reader","FileReader","onabort","onerror","onload","binaryStr","result","readAsArrayBuffer","useDropzone","getRootProps","getInputProps","margin","textAlign","border","borderRadius","height","cursor","SendButton","memo","sendMidi","onClick","ViewButton","setModalContent","title","DeleteButton","deleteItem","DownloadButton","blob","blobUrl","URL","createObjectURL","link","createElement","href","download","appendChild","dispatchEvent","MouseEvent","bubbles","cancelable","view","removeChild","downloadBlob","Blob","Uint8Array","toLowerCase","endsWith","addToSysexMessages","prev","newItem","concat","getKey","Map","v","App","midiIn","setMidiIn","midiOut","setMidiOut","autoSend","setAutoSend","errorMessage","setErrorMessageState","modalContent","getInitialValue","initialValueRef","committedValue","setCommittedValue","updatedValueRef","localforage","removeItem","useLocalForage","sysexMessagesFromStorage","setSysexMessages","clearSysexMessages","sysexMessages","setErrorMessage","msg","buf","send","err","toString","itemToDelete","filter","onmidimessage","event","data","display","padding","backgroundColor","sort","midimanufacturers","confirm","isOpen","onRequestClose","contentLabel","reportWebVitals","onPerfEntry","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f0c5463f.chunk.js","sourcesContent":["import React from 'react';\n\nexport default function MidiDeviceSelector({\n  type,\n  onChange,\n  selectedPortID,\n  sysex,\n}) {\n  const [availablePorts, setAvailablePorts] = React.useState([]);\n  const initRef = React.useRef({selectedPortID, onChange});\n  initRef.current = {selectedPortID, onChange};\n\n  const accessType = type === 'input' ? 'inputs' : 'outputs';\n\n  React.useEffect(() => {\n    if (!navigator.requestMIDIAccess) {\n      return;\n    }\n    navigator.requestMIDIAccess({sysex: Boolean(sysex)}).then((access) => {\n      const availablePorts = Array.from(access[accessType].values());\n      initRef.current.onChange(\n        availablePorts.find(\n          (port) => port.id === initRef.current.selectedPortID\n        )\n      );\n      setAvailablePorts(availablePorts);\n\n      access.onstatechange = function (e) {\n        setAvailablePorts(Array.from(access[accessType].values()));\n      };\n    });\n  }, [accessType, sysex]);\n\n  return (\n    <label>\n      midi {type === 'input' ? 'in' : 'out'}:{' '}\n      <select\n        onChange={(e) => {\n          onChange(availablePorts[parseInt(e.currentTarget.value)]);\n        }}\n        value={availablePorts.findIndex((port) => port.id === selectedPortID)}\n      >\n        <option key={-1} value={-1}>\n          (none)\n        </option>\n        {availablePorts.map((port, i) => (\n          <option key={i} value={i}>\n            {port.name}\n          </option>\n        ))}\n      </select>\n    </label>\n  );\n}\n","import {useState} from 'react';\n\nexport default function useLocalStorage(baseKey, initialValue) {\n  const key = `sysex7-${baseKey}`;\n  // State to store our value\n  // Pass initial state function to useState so logic is only executed once\n  const [storedValue, setStoredValue] = useState(() => {\n    try {\n      // Get from local storage by key\n      const item = window.localStorage.getItem(key);\n      // Parse stored json or if none return initialValue\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      // If error also return initialValue\n      console.log(error);\n      return initialValue;\n    }\n  });\n\n  // Return a wrapped version of useState's setter function that ...\n  // ... persists the new value to localStorage.\n  const setValue = (value) => {\n    try {\n      // Allow value to be a function so we have same API as useState\n      const valueToStore =\n        value instanceof Function ? value(storedValue) : value;\n      // Save state\n      setStoredValue(valueToStore);\n      // Save to local storage\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      // A more advanced implementation would handle the error case\n      console.log(error);\n    }\n  };\n\n  return [storedValue, setValue];\n}\n","import {useState, useEffect, useRef} from 'react';\nimport localforage from 'localforage';\n\nlet queue = Promise.resolve();\n\nconst INITIAL_VALUE = {};\n\nexport default function useLocalForage(key, getInitialValue = null) {\n  const initialValueRef = useRef(INITIAL_VALUE);\n  if (initialValueRef.current === INITIAL_VALUE) {\n    initialValueRef.current =\n      typeof getInitialValue === 'function'\n        ? getInitialValue()\n        : getInitialValue;\n  }\n\n  const [committedValue, setCommittedValue] = useState(initialValueRef.current);\n  // need to use a ref for whatever the latest version in the process of\n  // persisting is, otherwise we get lost updates\n  const updatedValueRef = useRef(initialValueRef.current);\n\n  useEffect(() => {\n    queue = queue.then(\n      (async function () {\n        try {\n          const value = await localforage.getItem(key);\n\n          updatedValueRef.current = value;\n          setCommittedValue(value);\n        } catch (err) {\n          return updatedValueRef.current;\n        }\n      })()\n    );\n  }, [key]);\n\n  const set = (value) => {\n    queue = queue.then(\n      (async function () {\n        try {\n          // Allow value to be a function so we have same API as useState\n          const valueToStore =\n            typeof value === 'function'\n              ? value(updatedValueRef.current)\n              : value;\n\n          updatedValueRef.current = valueToStore;\n          await localforage.setItem(key, valueToStore);\n          setCommittedValue(updatedValueRef.current);\n        } catch (err) {\n          console.error(err);\n          return updatedValueRef.current;\n        }\n      })()\n    );\n  };\n\n  const remove = () => {\n    queue = queue.then(\n      (async function () {\n        try {\n          updatedValueRef.current = initialValueRef.current;\n          await localforage.removeItem(key);\n          setCommittedValue(updatedValueRef.current);\n        } catch (err) {\n          console.error(err);\n        }\n      })()\n    );\n  };\n\n  return [committedValue, set, remove];\n}\n","import './Table.css';\n\nexport default function Table({items, headings, layout, rowRenderer}) {\n  return (\n    <table className=\"Table\">\n      <thead>\n        {headings && (\n          <tr>\n            {headings.map((heading, i) => (\n              <th\n                key={i}\n                style={{width: typeof layout[i] == 'number' ? layout[i] : null}}\n              >\n                {heading}\n              </th>\n            ))}\n          </tr>\n        )}\n      </thead>\n      <tbody>\n        {items.map((item, i) => (\n          <tr key={i}>\n            {rowRenderer(item).map((cell, k) => (\n              <td\n                className={i % 2 === 0 ? 'Table_odd' : null}\n                style={{width: typeof layout[k] == 'number' ? layout[k] : null}}\n                key={k}\n              >\n                {cell}\n              </td>\n            ))}\n          </tr>\n        ))}\n      </tbody>\n    </table>\n  );\n}\n","const LUT_HEX_4b = [\n  '0',\n  '1',\n  '2',\n  '3',\n  '4',\n  '5',\n  '6',\n  '7',\n  '8',\n  '9',\n  'A',\n  'B',\n  'C',\n  'D',\n  'E',\n  'F',\n];\nconst LUT_HEX_8b = new Array(0x100);\nfor (let n = 0; n < 0x100; n++) {\n  LUT_HEX_8b[n] = `${LUT_HEX_4b[(n >>> 4) & 0xf]}${LUT_HEX_4b[n & 0xf]}`;\n}\nexport default function toHex(buffer) {\n  let out = '';\n  for (let idx = 0, edx = buffer.length; idx < edx; idx++) {\n    out += LUT_HEX_8b[buffer[idx]];\n  }\n  return out;\n}\n","function md5cycle(x, k) {\n  var a = x[0],\n    b = x[1],\n    c = x[2],\n    d = x[3];\n\n  a = ff(a, b, c, d, k[0], 7, -680876936);\n  d = ff(d, a, b, c, k[1], 12, -389564586);\n  c = ff(c, d, a, b, k[2], 17, 606105819);\n  b = ff(b, c, d, a, k[3], 22, -1044525330);\n  a = ff(a, b, c, d, k[4], 7, -176418897);\n  d = ff(d, a, b, c, k[5], 12, 1200080426);\n  c = ff(c, d, a, b, k[6], 17, -1473231341);\n  b = ff(b, c, d, a, k[7], 22, -45705983);\n  a = ff(a, b, c, d, k[8], 7, 1770035416);\n  d = ff(d, a, b, c, k[9], 12, -1958414417);\n  c = ff(c, d, a, b, k[10], 17, -42063);\n  b = ff(b, c, d, a, k[11], 22, -1990404162);\n  a = ff(a, b, c, d, k[12], 7, 1804603682);\n  d = ff(d, a, b, c, k[13], 12, -40341101);\n  c = ff(c, d, a, b, k[14], 17, -1502002290);\n  b = ff(b, c, d, a, k[15], 22, 1236535329);\n\n  a = gg(a, b, c, d, k[1], 5, -165796510);\n  d = gg(d, a, b, c, k[6], 9, -1069501632);\n  c = gg(c, d, a, b, k[11], 14, 643717713);\n  b = gg(b, c, d, a, k[0], 20, -373897302);\n  a = gg(a, b, c, d, k[5], 5, -701558691);\n  d = gg(d, a, b, c, k[10], 9, 38016083);\n  c = gg(c, d, a, b, k[15], 14, -660478335);\n  b = gg(b, c, d, a, k[4], 20, -405537848);\n  a = gg(a, b, c, d, k[9], 5, 568446438);\n  d = gg(d, a, b, c, k[14], 9, -1019803690);\n  c = gg(c, d, a, b, k[3], 14, -187363961);\n  b = gg(b, c, d, a, k[8], 20, 1163531501);\n  a = gg(a, b, c, d, k[13], 5, -1444681467);\n  d = gg(d, a, b, c, k[2], 9, -51403784);\n  c = gg(c, d, a, b, k[7], 14, 1735328473);\n  b = gg(b, c, d, a, k[12], 20, -1926607734);\n\n  a = hh(a, b, c, d, k[5], 4, -378558);\n  d = hh(d, a, b, c, k[8], 11, -2022574463);\n  c = hh(c, d, a, b, k[11], 16, 1839030562);\n  b = hh(b, c, d, a, k[14], 23, -35309556);\n  a = hh(a, b, c, d, k[1], 4, -1530992060);\n  d = hh(d, a, b, c, k[4], 11, 1272893353);\n  c = hh(c, d, a, b, k[7], 16, -155497632);\n  b = hh(b, c, d, a, k[10], 23, -1094730640);\n  a = hh(a, b, c, d, k[13], 4, 681279174);\n  d = hh(d, a, b, c, k[0], 11, -358537222);\n  c = hh(c, d, a, b, k[3], 16, -722521979);\n  b = hh(b, c, d, a, k[6], 23, 76029189);\n  a = hh(a, b, c, d, k[9], 4, -640364487);\n  d = hh(d, a, b, c, k[12], 11, -421815835);\n  c = hh(c, d, a, b, k[15], 16, 530742520);\n  b = hh(b, c, d, a, k[2], 23, -995338651);\n\n  a = ii(a, b, c, d, k[0], 6, -198630844);\n  d = ii(d, a, b, c, k[7], 10, 1126891415);\n  c = ii(c, d, a, b, k[14], 15, -1416354905);\n  b = ii(b, c, d, a, k[5], 21, -57434055);\n  a = ii(a, b, c, d, k[12], 6, 1700485571);\n  d = ii(d, a, b, c, k[3], 10, -1894986606);\n  c = ii(c, d, a, b, k[10], 15, -1051523);\n  b = ii(b, c, d, a, k[1], 21, -2054922799);\n  a = ii(a, b, c, d, k[8], 6, 1873313359);\n  d = ii(d, a, b, c, k[15], 10, -30611744);\n  c = ii(c, d, a, b, k[6], 15, -1560198380);\n  b = ii(b, c, d, a, k[13], 21, 1309151649);\n  a = ii(a, b, c, d, k[4], 6, -145523070);\n  d = ii(d, a, b, c, k[11], 10, -1120210379);\n  c = ii(c, d, a, b, k[2], 15, 718787259);\n  b = ii(b, c, d, a, k[9], 21, -343485551);\n\n  x[0] = add32(a, x[0]);\n  x[1] = add32(b, x[1]);\n  x[2] = add32(c, x[2]);\n  x[3] = add32(d, x[3]);\n}\n\nfunction cmn(q, a, b, x, s, t) {\n  a = add32(add32(a, q), add32(x, t));\n  return add32((a << s) | (a >>> (32 - s)), b);\n}\n\nfunction ff(a, b, c, d, x, s, t) {\n  return cmn((b & c) | (~b & d), a, b, x, s, t);\n}\n\nfunction gg(a, b, c, d, x, s, t) {\n  return cmn((b & d) | (c & ~d), a, b, x, s, t);\n}\n\nfunction hh(a, b, c, d, x, s, t) {\n  return cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction ii(a, b, c, d, x, s, t) {\n  return cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nfunction md51(s) {\n  var n = s.length,\n    state = [1732584193, -271733879, -1732584194, 271733878],\n    i;\n  for (i = 64; i <= s.length; i += 64) {\n    md5cycle(state, md5blk(s.substring(i - 64, i)));\n  }\n  s = s.substring(i - 64);\n  var tail = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0];\n  for (i = 0; i < s.length; i++)\n    tail[i >> 2] |= s.charCodeAt(i) << (i % 4 << 3);\n  tail[i >> 2] |= 0x80 << (i % 4 << 3);\n  if (i > 55) {\n    md5cycle(state, tail);\n    for (i = 0; i < 16; i++) tail[i] = 0;\n  }\n  tail[14] = n * 8;\n  md5cycle(state, tail);\n  return state;\n}\n\n/* there needs to be support for Unicode here,\n * unless we pretend that we can redefine the MD-5\n * algorithm for multi-byte characters (perhaps\n * by adding every four 16-bit characters and\n * shortening the sum to 32 bits). Otherwise\n * I suggest performing MD-5 as if every character\n * was two bytes--e.g., 0040 0025 = @%--but then\n * how will an ordinary MD-5 sum be matched?\n * There is no way to standardize text to something\n * like UTF-8 before transformation; speed cost is\n * utterly prohibitive. The JavaScript standard\n * itself needs to look at this: it should start\n * providing access to strings as preformed UTF-8\n * 8-bit unsigned value arrays.\n */\nfunction md5blk(s) {\n  /* I figured global was faster.   */\n  var md5blks = [],\n    i; /* Andy King said do it this way. */\n  for (i = 0; i < 64; i += 4) {\n    md5blks[i >> 2] =\n      s.charCodeAt(i) +\n      (s.charCodeAt(i + 1) << 8) +\n      (s.charCodeAt(i + 2) << 16) +\n      (s.charCodeAt(i + 3) << 24);\n  }\n  return md5blks;\n}\n\nvar hex_chr = '0123456789abcdef'.split('');\n\nfunction rhex(n) {\n  var s = '',\n    j = 0;\n  for (; j < 4; j++)\n    s += hex_chr[(n >> (j * 8 + 4)) & 0x0f] + hex_chr[(n >> (j * 8)) & 0x0f];\n  return s;\n}\n\nfunction hex(x) {\n  for (var i = 0; i < x.length; i++) x[i] = rhex(x[i]);\n  return x.join('');\n}\n\nexport default function md5(s) {\n  return hex(md51(s));\n}\nfunction add32(a, b) {\n  return (a + b) & 0xffffffff;\n}\n","import React from 'react';\n\nexport default function Checkbox({label, checked, onChange}) {\n  return (\n    <label>\n      <input\n        type=\"checkbox\"\n        onChange={React.useCallback(() => onChange((s) => !s), [onChange])}\n        checked={checked}\n      />{' '}\n      {label}\n    </label>\n  );\n}\n","import React, {useCallback, useEffect, useState} from 'react';\nimport {useDropzone} from 'react-dropzone';\nimport Modal from 'react-modal';\nimport './App.css';\nimport MidiDeviceSelector from './MidiDeviceSelector';\nimport useLocalStorage from './useLocalStorage';\nimport useLocalForage from './useLocalForage';\nimport Table from './Table';\nimport byteArrayToHex from './byteArrayToHex';\nimport downloadBlob from './downloadBlob';\nimport md5 from './md5';\nimport midimanufacturers from './midimanufacturers.json';\nimport Checkbox from './Checkbox';\n\nModal.setAppElement(document.body);\n\nfunction getSysexManufacturer(data) {\n  if (data[1] === 0x00) {\n    return midimanufacturers[byteArrayToHex(data.slice(1, 4)).toLowerCase()];\n  } else {\n    return midimanufacturers[byteArrayToHex(data.slice(1, 2)).toLowerCase()];\n  }\n}\n\nclass MidiPortReference {\n  constructor(id, port) {\n    this.id = id;\n    this.port = port;\n  }\n  toJSON() {\n    return {id: this.id, port: null};\n  }\n}\n\nfunction getTimestampString(ts) {\n  var d = new Date(ts);\n  return (\n    [d.getFullYear(), d.getMonth() + 1, d.getDate()].join('-') +\n    ' ' +\n    [\n      String(d.getHours()).padStart(2, '0'),\n      String(d.getMinutes()).padStart(2, '0'),\n      d.getSeconds(),\n    ].join(':')\n  );\n}\n\nfunction makeItem({message, name}) {\n  return {\n    message,\n    name,\n    timestamp: Date.now(),\n    hash: md5(byteArrayToHex(message)),\n  };\n}\n\nfunction formatBytesForDisplay(str, lineLength) {\n  let out = '';\n  for (let i = 0; i < Math.ceil(str.length / (lineLength / 2)); i++) {\n    const line = str.slice(i * lineLength * 2, (i + 1) * lineLength * 2);\n    for (let k = 0; k < Math.ceil(line.length / 2); k++) {\n      out += line.slice(k * 2, (k + 1) * 2) + ' ';\n    }\n    out += '\\n';\n  }\n  return out;\n}\n\nfunction FileDropzone({onFile, onStatus}) {\n  const onDrop = useCallback(\n    (acceptedFiles) => {\n      acceptedFiles.forEach((file) => {\n        const reader = new FileReader();\n\n        reader.onabort = () => onStatus('file reading was aborted');\n        reader.onerror = () => onStatus('file reading has failed');\n        reader.onload = () => {\n          // Do whatever you want with the file contents\n          const binaryStr = reader.result;\n\n          onFile(file, binaryStr);\n        };\n        reader.readAsArrayBuffer(file);\n      });\n      onStatus(null);\n    },\n    [onFile, onStatus]\n  );\n  const {getRootProps, getInputProps} = useDropzone({onDrop});\n\n  return (\n    <div\n      style={{\n        margin: '0 auto',\n        textAlign: 'center',\n      }}\n    >\n      <div\n        {...getRootProps()}\n        style={{\n          border: 'dashed 3px #ccc',\n          borderRadius: 30,\n          height: 300,\n          margin: '16px',\n          cursor: 'pointer',\n        }}\n      >\n        <input {...getInputProps()} />\n        <p>Drag 'n' drop some .syx files here, or click to select files</p>\n      </div>\n    </div>\n  );\n}\n\nfunction uniqueBy(values, getKey) {\n  return Array.from(new Map(values.map((v) => [getKey(v), v])).values());\n}\n\nconst SendButton = React.memo(function SendButton({item, sendMidi}) {\n  return <button onClick={() => sendMidi(item.message)}>send</button>;\n});\n\nconst ViewButton = React.memo(function ViewButton({item, setModalContent}) {\n  return (\n    <button\n      onClick={() =>\n        setModalContent({\n          title: item.name,\n          body: (\n            <pre>{formatBytesForDisplay(byteArrayToHex(item.message), 16)}</pre>\n          ),\n        })\n      }\n    >\n      view\n    </button>\n  );\n});\nconst DeleteButton = React.memo(function PrintButton({item, deleteItem}) {\n  return <button onClick={() => deleteItem(item)}>delete</button>;\n});\nconst DownloadButton = React.memo(function PrintButton({item}) {\n  return (\n    <button\n      onClick={() =>\n        downloadBlob(\n          new Blob([new Uint8Array(item.message)]),\n          item.name + (item.name.toLowerCase().endsWith('.syx') ? '' : '.syx')\n        )\n      }\n    >\n      download\n    </button>\n  );\n});\n\nfunction addToSysexMessages(prev, newItem) {\n  return uniqueBy((prev ?? []).concat(newItem), (item) => item.hash);\n}\n\nfunction App() {\n  const [midiIn, setMidiIn] = useLocalStorage('inPort', null);\n  const [midiOut, setMidiOut] = useLocalStorage('outPort', null);\n  const [autoSend, setAutoSend] = useLocalStorage('autoSend', true);\n  const [errorMessage, setErrorMessageState] = useState(null);\n  const [modalContent, setModalContent] = useState(null);\n  const [\n    sysexMessagesFromStorage,\n    setSysexMessages,\n    clearSysexMessages,\n  ] = useLocalForage('sysexMessages', []);\n  const sysexMessages = sysexMessagesFromStorage ?? [];\n  const setErrorMessage = useCallback((msg) => {\n    if (msg) console.error(msg);\n    setErrorMessageState(msg);\n  }, []);\n  const sendMidi = (buf) => {\n    if (midiOut?.port) {\n      try {\n        setErrorMessage(null);\n        midiOut.port.send(new Uint8Array(buf));\n      } catch (err) {\n        setErrorMessage(err.toString());\n      }\n    } else {\n      setErrorMessage('no midi out selected');\n    }\n  };\n\n  function deleteItem(itemToDelete) {\n    setSysexMessages((s) => s.filter((item) => item !== itemToDelete));\n  }\n\n  useEffect(() => {\n    if (!midiIn?.port) return;\n    midiIn.port.onmidimessage = (event) => {\n      if (event.data[0] === 0xf0) {\n        setSysexMessages((s) =>\n          addToSysexMessages(\n            s,\n            makeItem({\n              message: event.data,\n              name: `Received on ${midiIn.port.name}`,\n            })\n          )\n        );\n      }\n    };\n\n    return () => {\n      midiIn.port.onmidimessage = null;\n    };\n  }, [midiIn, midiIn?.port, setSysexMessages]);\n\n  return (\n    <div className=\"App\">\n      <div style={{margin: 16}}>\n        <div style={{display: 'inline-block', padding: '0 4px'}}>\n          <MidiDeviceSelector\n            type=\"input\"\n            selectedPortID={midiIn?.id}\n            onChange={(port) =>\n              setMidiIn(port ? new MidiPortReference(port.id, port) : null)\n            }\n            sysex\n          />\n        </div>\n        <div style={{display: 'inline-block', padding: '0 4px'}}>\n          <MidiDeviceSelector\n            type=\"output\"\n            selectedPortID={midiOut?.id}\n            onChange={(port) =>\n              setMidiOut(port ? new MidiPortReference(port.id, port) : null)\n            }\n            sysex\n          />\n        </div>\n        <div style={{display: 'inline-block', padding: '0 4px'}}>\n          <Checkbox\n            label=\"automatically send dropped files\"\n            checked={autoSend}\n            onChange={() => setAutoSend((s) => !s)}\n          />\n        </div>\n      </div>\n      {errorMessage && (\n        <div style={{backgroundColor: 'red', margin: 16}}>{errorMessage}</div>\n      )}\n      <FileDropzone\n        onFile={(file, buf) => {\n          console.log('file', file);\n          if (autoSend) {\n            sendMidi(buf);\n          }\n          setSysexMessages((s) =>\n            addToSysexMessages(\n              s,\n              makeItem({\n                message: new Uint8Array(buf),\n                name: file.name,\n              })\n            )\n          );\n        }}\n        onStatus={setErrorMessage}\n      />\n      <div style={{margin: 16}}>\n        {sysexMessages.length ? (\n          <Table\n            items={sysexMessages\n              .slice()\n              .sort((a, b) => (b.timestamp ?? 0) - (a.timestamp ?? 0))}\n            headings={['Name', 'Manufacturer', 'Bytes', 'Added', 'Actions']}\n            layout={['auto', 200, 100, 200, 260]}\n            rowRenderer={(item) => [\n              item.name,\n              getSysexManufacturer(item.message),\n              item.message.length,\n              item.timestamp ? getTimestampString(item.timestamp) : 'unknown',\n              <>\n                <SendButton item={item} sendMidi={sendMidi} />\n                <DownloadButton item={item} />\n                <ViewButton item={item} setModalContent={setModalContent} />\n                <DeleteButton item={item} deleteItem={deleteItem} />\n              </>,\n            ]}\n          />\n        ) : (\n          'SysEx messages you upload or download will be listed here'\n        )}\n      </div>\n      {Boolean(sysexMessages.length) && (\n        <div style={{margin: 16}}>\n          <button\n            onClick={() => {\n              if (\n                window.confirm(\n                  \"Are you sure? This will delete everything you've uploaded or downloaded from this app\"\n                )\n              ) {\n                clearSysexMessages();\n              }\n            }}\n          >\n            clear all history\n          </button>\n        </div>\n      )}\n      {modalContent && (\n        <Modal\n          isOpen={Boolean(modalContent)}\n          onRequestClose={() => setModalContent(null)}\n          contentLabel={modalContent?.title}\n        >\n          <h2>{modalContent?.title}</h2>\n          <button onClick={() => setModalContent(null)}>close</button>\n          {modalContent?.body}\n        </Modal>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","export default function downloadBlob(blob, name = 'file.syx') {\n  // Convert your blob into a Blob URL (a special url that points to an object in the browser's memory)\n  const blobUrl = URL.createObjectURL(blob);\n\n  // Create a link element\n  const link = document.createElement('a');\n\n  // Set link's href to point to the Blob URL\n  link.href = blobUrl;\n  link.download = name;\n\n  // Append link to the body\n  document.body.appendChild(link);\n\n  // Dispatch click event on the link\n  // This is necessary as link.click() does not work on the latest firefox\n  link.dispatchEvent(\n    new MouseEvent('click', {\n      bubbles: true,\n      cancelable: true,\n      view: window,\n    })\n  );\n\n  // Remove link from body\n  document.body.removeChild(link);\n}\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport 'normalize.css/normalize.css';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}